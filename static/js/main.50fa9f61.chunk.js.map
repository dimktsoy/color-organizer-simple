{"version":3,"sources":["components/Color/color-icon-remove.svg","components/AddColorForm/AddColorForm.js","components/Star/Star.js","components/StarRating/StarRating.js","components/Color/Color.js","components/ColorList/ColorList.js","App.js","index.js"],"names":["module","exports","AddColorForm","addColor","f","text","useRef","color","className","onSubmit","e","preventDefault","current","value","focus","ref","type","required","placeholder","Star","selected","onClick","StarRating","rating","totalStars","onRate","Array","map","star","index","key","Color","id","this","props","console","log","style","backgroundColor","nextProps","nextState","prevProps","prevState","title","onRemoveColor","src","iconRemove","alt","width","height","React","Component","ColorList","colors","App","state","bind","removeColor","rateColor","setState","v4","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.50fa9f61.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/color-icon-remove.91bebd82.svg\";","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport './AddColorForm.scss';\n\nconst AddColorForm = ({ addColor = (f) => f }) => {\n  const text = useRef(null);\n  const color = useRef(null);\n\n  const submit = (e) => {\n    e.preventDefault();\n    addColor(text.current.value, color.current.value);\n    text.current.value = '';\n    color.current.value = '';\n    text.current.focus();\n  };\n\n  return (\n    <form className=\"add-color-form\" onSubmit={submit}>\n      <input\n        className=\"add-color-form__input\"\n        ref={text}\n        type=\"text\"\n        required\n        placeholder=\"Заголовок цвета...\"\n      />\n      <input\n        className=\"add-color-form__input add-color-form__input--color\"\n        ref={color}\n        type=\"color\"\n        required\n      />\n      <button className=\"add-color-form__button\" type=\"submit\">\n        Добавить цвет\n      </button>\n    </form>\n  );\n};\n\nAddColorForm.propTypes = {\n  addColor: PropTypes.func,\n};\n\nexport default AddColorForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Star.scss';\n\nconst Star = ({ selected = false, onClick = (f) => f }) => (\n  <div\n    className={selected ? 'star star--selected' : 'star'}\n    onClick={onClick}\n  />\n);\n\nStar.propTypes = {\n  selected: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nexport default Star;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Star from './../Star/Star';\nimport './StarRating.scss';\n\nconst StarRating = ({ rating = 0, totalStars = 5, onRate = (f) => f }) => {\n  return (\n    <div className=\"star-rating\">\n      <div className=\"star-rating__list\">\n        {[...Array(totalStars)].map((star, index) => (\n          <Star\n            key={index}\n            selected={index < rating}\n            onClick={() => onRate(index + 1)}\n          />\n        ))}\n      </div>\n      <p className=\"star-rating__stat\">\n        {rating} из {totalStars}\n      </p>\n    </div>\n  );\n};\n\nStarRating.propTypes = {\n  rating: PropTypes.number,\n  totalStars: PropTypes.number,\n  onRate: PropTypes.func,\n};\n\nexport default StarRating;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport iconRemove from './color-icon-remove.svg';\nimport StarRating from './../StarRating/StarRating';\nimport './Color.scss';\n\nclass Color extends React.Component {\n  // UNSAFE_componentWillMount\n  componentWillMount() {\n    const { id } = this.props;\n    console.log('componentWillMount color id', id);\n    this.style = {\n      backgroundColor: '#f1f1f1',\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const { rating, id } = this.props;\n    console.log('shouldComponentUpdate color id', id);\n    return rating !== nextProps.rating;\n  }\n\n  // UNSAFE_componentWillUpdate\n  componentWillUpdate(nextProps, nextState) {\n    const { id } = this.props;\n    console.log('componentWillUpdate color id', id);\n    this.style = { backgroundColor: null };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { id } = this.props;\n    console.log('componentDidUpdate color id', id);\n  }\n\n  render() {\n    const {\n      color,\n      title,\n      rating = 0,\n      onRate = (f) => f,\n      onRemoveColor = (f) => f,\n    } = this.props;\n\n    return (\n      <div className=\"color\" style={this.style}>\n        <h3 className=\"color__title\">{title}</h3>\n        <div\n          className=\"color__preview\"\n          style={{ backgroundColor: color }}\n        ></div>\n        <div className=\"color__rating\">\n          <StarRating rating={rating} onRate={onRate} />\n        </div>\n        <button className=\"color__button-remove\" onClick={onRemoveColor}>\n          <img src={iconRemove} alt=\"удалить\" width=\"30\" height=\"30\" />\n        </button>\n      </div>\n    );\n  }\n}\n\nColor.propTypes = {\n  color: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  rating: PropTypes.number,\n  onRate: PropTypes.func,\n  onRemoveColor: PropTypes.func,\n};\n\nexport default Color;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Color from './../Color/Color';\nimport './ColorList.scss';\n\nconst ColorList = ({\n  colors = [],\n  onRate = (f) => f,\n  onRemoveColor = (f) => f,\n}) => {\n  return (\n    <div className=\"color-list\">\n      {colors.map((color) => (\n        <Color\n          key={color.id}\n          {...color}\n          onRemoveColor={() => onRemoveColor(color.id)}\n          onRate={(rating) => onRate(color.id, rating)}\n        />\n      ))}\n    </div>\n  );\n};\n\nColorList.propTypes = {\n  colors: PropTypes.array,\n  onRemoveColor: PropTypes.func,\n  onRate: PropTypes.func,\n};\n\nexport default ColorList;\n","import React from 'react';\nimport { v4 } from 'uuid';\nimport AddColorForm from './components/AddColorForm/AddColorForm';\nimport ColorList from './components/ColorList/ColorList';\nimport './App.scss';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      colors: [\n        {\n          id: 1,\n          title: 'Brandy',\n          color: '#87413F',\n          rating: 5,\n        },\n        {\n          id: 2,\n          title: 'Avocado',\n          color: '#568203',\n          rating: 4,\n        },\n        {\n          id: 3,\n          title: 'Black coffee',\n          color: '#3B2F2F',\n          rating: 5,\n        },\n        {\n          id: 4,\n          title: 'Blue sapphire',\n          color: '#126180',\n          rating: 0,\n        },\n      ],\n    };\n\n    this.addColor = this.addColor.bind(this);\n    this.removeColor = this.removeColor.bind(this);\n    this.rateColor = this.rateColor.bind(this);\n  }\n\n  addColor(title, color) {\n    this.setState((prevState) => ({\n      colors: [\n        ...prevState.colors,\n        {\n          title,\n          color,\n          id: v4(),\n          rating: 0,\n        },\n      ],\n    }));\n  }\n\n  removeColor(id) {\n    this.setState((prevState) => ({\n      colors: [...prevState.colors.filter((color) => color.id !== id)],\n    }));\n  }\n\n  rateColor(id, rating) {\n    this.setState((prevState) => ({\n      colors: prevState.colors.map((color) =>\n        id !== color.id ? color : { ...color, rating }\n      ),\n    }));\n  }\n\n  render() {\n    const { addColor, removeColor, rateColor } = this;\n    const { colors } = this.state;\n\n    return (\n      <div className=\"app\">\n        <AddColorForm addColor={addColor} />\n        <ColorList\n          colors={colors}\n          onRemoveColor={removeColor}\n          onRate={rateColor}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}